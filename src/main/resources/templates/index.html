<!-- index.html
    Author: Cory Wu (Redesigned)
    Date: 2024-11-22
    ENSF 614 2024
-->

<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>AcmePlex Cinema | Login</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Playfair+Display:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <!-- Bootstrap & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="/custom.css">
</head>
<body class="login-page">
    <!-- Decorative Elements -->
    <div class="login-decoration">
        <div class="deco-line deco-line-1"></div>
        <div class="deco-line deco-line-2"></div>
    </div>

    <!-- Course Banner -->
    <div class="banner">
        <i class="bi bi-film me-2"></i>
        ENSF-614 2024 Group 9 â€” AcmePlex Cinema
    </div>

    <!-- Database Warning -->
    <div class="alert alert-warning" style="margin-top: 80px; max-width: 600px; text-align: center;">
        <i class="bi bi-exclamation-triangle-fill me-2"></i>
        Please ensure the MySQL database is populated before continuing.
        Run <strong>Group9_SQL.sql</strong> if needed.
    </div>

    <!-- Login Container -->
    <div class="login-container animate-fade-in-up">
        <!-- Logo/Brand -->
        <div class="login-brand">
            <div class="brand-icon">
                <i class="bi bi-film"></i>
            </div>
            <h1 class="title">AcmePlex</h1>
            <p class="brand-tagline">Premium Cinema Experience</p>
        </div>

        <!-- Login Form -->
        <form action="/login" method="post" th:object="${user}">
            <div class="form-group">
                <label class="form-label" for="username">
                    <i class="bi bi-person me-2"></i>Username
                </label>
                <input type="text"
                       class="form-control"
                       id="username"
                       name="username"
                       placeholder="Enter your username"
                       required
                       autocomplete="username">
            </div>

            <div class="form-group">
                <label class="form-label" for="password">
                    <i class="bi bi-lock me-2"></i>Password
                </label>
                <input type="password"
                       class="form-control"
                       id="password"
                       name="password"
                       placeholder="Enter your password"
                       required
                       autocomplete="current-password">
            </div>

            <input type="hidden" name="returnUrl" th:value="${returnUrl}">

            <div class="btn-container">
                <button type="submit" class="btn btn-primary btn-lg">
                    <i class="bi bi-box-arrow-in-right me-2"></i>Sign In
                </button>

                <div class="divider">
                    <span>or</span>
                </div>

                <a href="/register" class="btn btn-secondary">
                    <i class="bi bi-person-plus me-2"></i>Create Account
                </a>

                <a href="/dashboard?guest=true" class="btn btn-outline-primary">
                    <i class="bi bi-eye me-2"></i>Continue as Guest
                </a>
            </div>

            <!-- Error/Success Messages -->
            <div th:if="${errorMessage}"
                 th:class="${'alert mt-4 ' + (isError ? 'alert-danger' : 'alert-success')}"
                 style="text-align: center;">
                <i th:class="${isError ? 'bi bi-exclamation-circle me-2' : 'bi bi-check-circle me-2'}"></i>
                <span th:text="${errorMessage}"></span>
            </div>
        </form>
    </div>

    <!-- Footer -->
    <div class="login-footer">
        <p>&copy; 2024 AcmePlex Cinema. All rights reserved.</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <style>
        /* Login Page Specific Styles */
        .login-page {
            background:
                radial-gradient(ellipse at 30% 20%, rgba(212, 175, 55, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 80%, rgba(67, 97, 238, 0.06) 0%, transparent 50%),
                var(--color-bg-dark);
        }

        .login-decoration {
            position: fixed;
            inset: 0;
            pointer-events: none;
            overflow: hidden;
        }

        .deco-line {
            position: absolute;
            width: 1px;
            height: 100%;
            background: linear-gradient(180deg, transparent 0%, rgba(212, 175, 55, 0.2) 50%, transparent 100%);
        }

        .deco-line-1 { left: 10%; }
        .deco-line-2 { right: 10%; }

        .banner {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
        }

        .login-brand {
            text-align: center;
            margin-bottom: var(--space-2xl);
        }

        .brand-icon {
            width: 70px;
            height: 70px;
            margin: 0 auto var(--space-lg);
            background: var(--gradient-gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #0a0a0f;
            box-shadow: var(--shadow-gold);
        }

        .brand-tagline {
            color: var(--color-text-muted);
            font-size: 0.9rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            margin-top: var(--space-xs);
        }

        .divider {
            display: flex;
            align-items: center;
            margin: var(--space-lg) 0;
        }

        .divider::before,
        .divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
        }

        .divider span {
            padding: 0 var(--space-md);
            color: var(--color-text-muted);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .login-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: var(--space-md);
            text-align: center;
            color: var(--color-text-muted);
            font-size: 0.8rem;
        }

        @media (max-width: 576px) {
            .deco-line { display: none; }
            .brand-icon { width: 60px; height: 60px; font-size: 1.5rem; }
        }
    </style>
</body>
</html>
